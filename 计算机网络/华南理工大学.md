以五层接口进行展开

建议用思维导图整理知识点

本课程旨在让大家掌握计算机网络的**基础知识**、**基本原理**和**重要的协议**。**学习的过程以层次模型为线索**，主要包括**网络相关术语和协议（TCP/IP协议）、网络标准、OSI参考模型、局域网技术（重点以太网）、物理层、数据链路层、网络层、传输层和应用层**的基本功能和基本原理；**课程重点关注网络层内容**，包括各种路由协议的工作原理及其特点。

## 学习目标

(1) 理解计算机网络从无到有的进程，理解**网络中的问题**以及**解决问题的方法**，培养学生发现问题解决问题的能力；

(2) 理解计算机网络的**层次模型**，掌握各层的功能和各层中协议的作用。

(3) 理解各层报文的**封装格式**，掌握重点字段的含义，并能通过分析报文，理解协议和简单故障；

(4) 理解**网络通信**的**基本原理**，学习套接字编程基础，并进行实践，掌握基本套接字编程方法；

(5) 学习主要的**交换设备**的**工作原理。**

## 考试重点

第一章 概论：客户-服务器方式， 对等连接方式，三种交换的比较，按照网络作用范围的分类，性能：速率，带宽，吞吐量，时延，协议与划分层次，具有五层协议的体系结构

第二章 物理层：信道的基本概念，信噪比，香农公式，UTP,STP，同轴光缆，光缆，信道复用技术（频分复用，时分复用，统计时分复用，波分复用，码分复用），带宽接入技术，FTTx

第三章 数据链路层：点对点信道，广播信道，点对点协议，数据链路层的三个基本问题，以太网的MAC层，在数据链路层扩展以太网

第四章 网络层：网络层提供的两种服务，虚电路服务与数据报服务的对比，网际协议IP（ARP ICMP IGMP)，分组的转发过程，分组转播算法，分层次的路由选择协议

第五章 运输层：UDP, TCP



## 1.3 常用的基本概念

广义的网络：各种相似的事物连接在一起，如电话网络，交通网络

计算机网络连接介质多样

万维网不是计算机网络，是计算机其中之一

拓扑：信道的分布方式，常见拓扑：**总线拓扑，星形拓扑**（单点故障）

协议：一系列的规则和规范

数字带宽：单位时间流经的信息总量，单位bit/s bps

吞吐量：实际可测的带宽，数字带宽的实际形式，**传输时间=信息总量/带宽**，文件下载时间显示的计算公式

点到点：机器间的直接连接

端到端：信源机与信宿机之间直接通信，**是虚连接，由一条条点到点连接**

**PAN（个人热点） LAN（校园） MAN（城市） WAN（州） Internet(全球)**

Question:

信道的传输速率

信道的利用率：

信道的分配方式：





## 1.4参考模型

两个不同国家的客户，翻译，文秘

OSI七层参考模型，应用层（软件），表示层（数据流，加密解密），会话层，传输层（端到端连接），网络层（地址，最优路径），数据链路层，物理层（提供透明的比特流传输）

![image-20211211180858377](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211180858377.png)

TCP/IP四层模型

![image-20211211181305078](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211181305078.png)

![image-20211211181325406](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211181325406.png)

![image-20211211181345620](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211181345620.png)



## 2.1物理层概述及信号分析

最底层，为数据链路层服务，

信号分为数据信号，模拟信号

**码元**

物理带宽，是一种物理特性

![image-20211211181924419](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211181924419.png)

![image-20211211182014365](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211182014365.png)



## 2.2 引导性传输介质

物理层的功能：搬运比特，承载比特的是传输介质

主要学习引导性介质：有线的，铜缆，双绞线（**UTP**局域网, STP)

做实验做的网线就是UTP直通线

光纤的原理：全反射，不受电磁干扰

光纤断了再连接，但是会发生损失



## 2.3 复用技术

复用：多个用户共享同一个信道

FDM频分多路复用

![image-20211211201908285](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211201908285.png)

正交频分复用：OFDM

WDM波分多路复用

![image-20211211202021432](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211202021432.png)



时分多路复用TDM

统计时分多路复用STDM

![image-20211211202158701](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211202158701.png)

![image-20211211202216901](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211202216901.png)

码分多路复用CDMA

![image-20211211202253398](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211202253398.png)

![image-20211211202308229](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211202308229.png)



## 2.4 调制技术

基带传输

通带传输

见Notability笔记

比特率：每秒信号变化次数

![image-20211211202903328](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211202903328.png)

**C = B * log2 n C:数字带宽，比特率， B：波特率  n:信号级别**

**奈奎斯特定理，最大传输速率R = 2B log2 V,**

比特率 = 波特率 * log2n 。

## 第三章 数据链路层

## 3.1 数据链路层功能和成帧

保证数据传输的有效可靠需要：**差错检测和控制、流量控制，流量控制基于速率和反馈**

帧 = 帧头 + 载荷 + 帧尾

![image-20211211213403311](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211213403311.png)

**成帧：将原始的尾流分散到离散的帧中**



## 3.2 差错处理概述

处理错误的手段：**纠错、检错**

无线网：差错码   局域网：检错码

海明距离：异或1的个数

![image-20211211214028863](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211214028863.png)

奇偶校验位，1的个数

![image-20211211214319864](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211214319864.png)



## 3.4 检错码

校验码：奇偶校验码，正确率50%、互联网校验和、**循环冗余校验码CRC**

**循环冗余校验码CRC**：生成多项式

![image-20211211214839448](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211211214839448.png)

模二运算等于异或运算



## 3.5 6个模拟的DLL协议之1-3

协议1：无限制的当工协议，处理的是完美的传输环境

协议2：单工停-等协议：做简单的流控，防止接收方被数据所淹没

协议3：有噪声信道的单工协议，解决噪声信道带来的错误，引出肯定确认技术

PDU：帧： 帧类型+顺序号+确认号+分组+校验

数据通常是在两个站（点对点）之间进行传输，按照**数据流的方向**可分为三种传输模式：单工、半双工、全双工。按照**频率使用方式**又可具体分为：单工（同频、异频单工）、双工（同频、异频双工）和半双工通信。

  单工：简单的说就是一方只能发信息，另一方则只能收信息，**通信是单向的**。

   半双工：比单工先进一点，就是**双方都能发信息**，但**同一时间则只能一方发信息**。这种传输方式效率低，需要更多时间。

   全双工：比半双工再先进一点，就**是双方不仅都能发信息，而且能够同时发送**。在这种情况下就没有拥堵的危险，数据的传输也就更快。

半双工协议：

对正确帧的校验：

重传帧：

自动重传请求ARQ：

![image-20211212165710555](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211212165710555.png)

提供传输效率：全双工、捎待确认（要有定时器，以解决超时重传）



## 3.6 滑窗协议

为了在等待反馈时提高效率，继续发送数据，批量发送，**即滑窗协议**

通信的双方互为收发

![image-20211212172157264](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211212172157264.png)

黄的是确认帧，绿的是下一信息

![image-20211212172246701](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211212172246701.png)

![image-20211212172520113](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211212172520113.png)

![image-20211212172620459](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211212172620459.png)

因为在发送以及返回信息是，大部分时间都在等待，所以效率极低

![image-20211212172751757](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211212172751757.png)

所以一次性可以发送26个，然后第一个确认帧回来了。

信道容量就是：带宽-延迟积

![image-20211212172921768](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211212172921768.png)

如果这26个帧中有一个错误，解决措施：

1.丢弃错误的帧以及后面的所有帧，**然后重传错误的帧以及后续的帧**，协议5

2.丢弃错误的帧，将后面的帧缓存起来，重传错误的帧，即协议6选择性重传

![image-20211212173323102](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211212173323102.png)



## 3.7 回退n帧 即协议5

![image-20211213164745295](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211213164745295.png)

回退n帧采取 **累计确认**

发送方一直保存着未被确认的帧

发送窗口的大小不能超过发送的序列号

![image-20211213165158507](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211213165158507.png)



## 3.8 选择性重传 协议6

![image-20211213165411013](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211213165411013.png)

缓存：非期望的正确帧

然后重新排序

![image-20211213165544810](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211213165544810.png)

![image-20211213165604945](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211213165604945.png)

新老窗口重叠/不重叠

![image-20211213170751839](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20211213170751839.png)

#### 3-1：数据链路层概述

 √数据链路层在哪里？

物理层之上，网络层之下

 √数据链路层的主要功能是什么？



 √字符计数法成帧的主要缺点是什么？

 √字节填充的标记字节法的基本原理是什么？

 √比特填充的标记比特法的基本原理是什么？

#### 3-2：差错处理概述

 √什么是码字？

 √什么是两个码字的海明距离？什么是全部码字的海明距离？

 √差错的类型有哪两种？

 √海明距离跟检错有什么关系？

 √海明距离跟纠错有什么关系？

#### 3-3：纠1位错的海明码

 √16位数据位，需要纠1位错，冗余位应该为多少？

 √纠1位错的海明码，发送方怎样确定校验位？

 √纠1位错的海明码，接收方怎样判定收到的码字是否正确？如果出错了，怎么纠正成正确的码字？

#### 3-4：检错码

 √什么是检错码？

 √采用循环冗余校验码，发送方怎么做？

 √采用循环冗余校验码，接收方怎么做？

 √循环冗余校验码，能够检查出多少位错误？

#### 3-5：六个模拟协议之协议1~3

 √怎么解决接收方被大量数据所淹没？

 √肯定确认重传技术是怎样工作的？

 √重传定时器什么时候启动，什么时候拆除？

 √接收方为什么会收到重复帧？

 √如果发送的帧丢失了，意味着发方永远收不到这帧的确认，发方会死等确认帧（永远不可能到来）的到来吗？

 √什么是捎带确认？

#### 3-6：滑窗协议

 √为什么提出滑窗技术？

 √什么是发送窗口？

 √发送窗口什么时候滑动？

 √什么是接收窗口？

 √接收窗口什么时候滑动？

 √什么是带宽延迟积？

 √窗口值怎么确定？跟哪些因素有关？

#### 3-7：回退n帧

 √回退n帧的工作原理是怎样的？

 √什么是累计确认？

 √如何确定回退n帧协议的窗口数？

#### 3-8：选择性重传

 √什么是否定确认重传？有什么作用？

 √选择性重传的工作原理是怎样的？

 √如何确定选择性重传协议的窗口数？



## 4.1 MAC子层概述

数据通信方式：

单播：一对一的通信

广播：一对所有的通信

组播：特定组的用户，共享传输介质降低成本、

介质访问控制：MAC

MAC、IP是什么  TCP为什么能顺序

IP**网际协议地址**、**互联网协议地址**。是[网际协议](https://zh.wikipedia.org/wiki/网际协议)中用于标识**发送**或**接收[数据报](https://zh.wikipedia.org/wiki/数据报)**的设备的一串数字。

[IPv4]由十进制数字组成，并以点分隔，如：`172.16.254.1` ； [IPv6](https://zh.wikipedia.org/wiki/IPv6) 由十六进制数字组成，以冒号分割。

IP功能：标识主机、提供主机在网络中的位置；网络寻址，将一个数据报从一个网络模块发送到目的地。在发送的整个过程，**IP地址（address）充当着目的地的位置**，**[域名](https://zh.wikipedia.org/wiki/域名)（name）意味着我们要找什么**，**[路由](https://zh.wikipedia.org/wiki/路由)（route）代表着如何到达目的地的这个过程**。[[3\]](https://zh.wikipedia.org/wiki/IP地址#cite_note-3) 每个[IP数据包](https://zh.wikipedia.org/wiki/网际协议)的标头包含了发送主机的IP地址和目的主机的IP地址。

动态IP地址是通过网络使用[动态主机配置协议（DHCP）](https://zh.wikipedia.org/wiki/动态主机设置协议)分配的。**DHCP是分配地址**最常用的技术。它避免了为网络上的每台设备分配特定静态地址的管理负担。如果某些设备在特定的时间处于联机状态，它还允许设备共享网络上有限的地址空间。通常，在现代的台式计算机操作系统中，默认情况下会启用动态IP地址分配。

